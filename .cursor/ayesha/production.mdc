---
alwaysApply: true
---

# ğŸ¯ AYESHA PRODUCTION FOCUS - Zo's Tracking

**Last Updated:** January 10, 2026
**Agent:** Zo (LLM Abstraction + Research Intelligence + Clinical Trials)
**Status:** ğŸ”¥ ACTIVE - Core Focus Areas

---

## âœ… COMPLETED THIS SESSION

### 1. Clinical Trial Cohere Switch âœ…
- **Problem:** `403 Your API key was reported as leaked` error from Google AI
- **Solution:** Extended LLM abstraction layer with `embed()` method
- **Files Changed:**
  - `api/services/llm_provider/llm_abstract.py` - Added embed() to all providers
  - `api/services/clinical_trial_search_service.py` - Now uses LLM abstraction
- **Tests:** `tests/test_clinical_trial_cohere_switch.py` - PASSING âœ…
- **Status:** PRODUCTION READY

### 2. Research Intelligence Route Added âœ…
- **Problem:** `/research-intelligence` was built but NOT in App.jsx
- **Solution:** Added import and route with persona protection
- **Files Changed:**
  - `oncology-frontend/src/App.jsx` - Added ResearchIntelligence import + route
  - `oncology-frontend/src/context/PersonaContext.jsx` - Added to oncologist pages

---

## ğŸ¯ MY CORE FOCUS AREAS (Zo)

### Focus 1: Clinical Trials (MOAT Core)
- âœ… Cohere embeddings working
- âœ… LLM abstraction layer extended
- ğŸ”² AstraDB integration verification (needs testing)
- ğŸ”² Trial matching with mechanism_fit scores

### Focus 2: Research Intelligence (MOAT Core)
- âœ… Route added to App.jsx
- âœ… Backend orchestrator working
- âœ… Dossier generation service
- âœ… Value synthesis service
- ğŸ”² Database persistence (PostgREST cache issue)
- ğŸ”² Query history UI integration

### Focus 3: Ayesha Patient Persona
- âœ… `/ayesha-complete-care` - Working
- âœ… `/ayesha-trials` - Working
- âœ… `/patient/profile` - Working
- ğŸ”² Patient-friendly language in Research Intelligence
- ğŸ”² Dossier export/share for patients

---

## ğŸ”§ PLUMBER AGENT REQUESTS

### Request 1: App.jsx Modularization
**Goal:** Make App.jsx maintainable by splitting routes into modules

```
/routes
  â”œâ”€â”€ index.js              # Main route aggregator
  â”œâ”€â”€ authRoutes.js         # /login, /signup, /admin/*
  â”œâ”€â”€ patientRoutes.js      # /patient/*, /ayesha-*
  â”œâ”€â”€ moatRoutes.js         # /universal-*, /orchestrator, /research-intelligence
  â”œâ”€â”€ researchRoutes.js     # /clinical-genomics, /synthetic-lethality, etc.
  â””â”€â”€ devRoutes.js          # DEV-only routes (already partially done)
```

**Pattern to Follow:**
```jsx
// routes/moatRoutes.js
export const moatRoutes = [
  { path: '/universal-complete-care', element: UniversalCompleteCare, personas: ['oncologist', 'researcher'] },
  { path: '/orchestrator', element: OrchestratorDashboard, personas: ['researcher'] },
  // ...
];
```

### Request 2: DEV-Gate These Routes
These routes should be wrapped in `{import.meta.env.DEV && ...}`:
- `/investor-slideshow`
- `/demo-summarizer`
- `/food-validator`
- `/batch-food-validator`
- `/runx-conquest`
- `/campaigns/pik3ca-de-risking`

### Request 3: Add Persona Protection
These routes need `PersonaRoute` wrapper:
- `/protein-synthesis` â†’ researcher only
- `/structure-predictor` â†’ researcher only
- `/metastasis` â†’ oncologist, researcher
- `/clinical-genomics` â†’ oncologist, researcher

### Request 4: Clean Up Duplicates
Evaluate and potentially consolidate:
- `/research` vs `/research-intelligence` (what's the difference?)
- `/agent-dashboard` vs `/orchestrator` (legacy?)
- `/ayesha-dossiers` vs `/universal-dossiers` (patient vs clinical view)

---

## ğŸ“‹ COPILOT AUDIT FINDINGS

### Current State: MINIMAL
The CoPilot component (`CoPilot.jsx`) is a **placeholder**:
- Only shows "Modular Architecture Test - Success!"
- No actual chat functionality
- Q2C Router exists but not connected

### Q2C Router: COMPREHENSIVE âœ…
Located at `components/CoPilot/Q2CRouter/intents.js`:
- 12 intent patterns defined
- Maps questions â†’ API endpoints
- Supports: trials, drug_efficacy, variant_impact, complete_care, etc.
- **NOT WIRED TO COPILOT UI**

### Hooks Available:
- `useAnalysisCoPilot.js` - Analysis integration
- `useChemoGuidance.js` - Chemo guidance
- `useCoPilotIntegration.js` - Page context integration
- `useProactiveInsights.js` - Proactive suggestions
- `useRadOncGuidance.js` - RadOnc guidance

### Integration Components:
- `ChemoGuidanceCard.jsx` - Chemo guidance display
- `RadOncGuidanceCard.jsx` - RadOnc display
- `MyelomaDigitalTwinIntegration.jsx` - Myeloma integration

### RECOMMENDATION:
CoPilot needs to be **fully wired up** to use Q2C Router for natural language navigation.
This would give users a conversational way to access all MOAT capabilities.

---

## ğŸ§¬ SPORADIC CANCER AUDIT

### Location: `/sporadic-cancer` â†’ `SporadicCancerPage.jsx`

### Purpose:
For **oncologists** analyzing patients **without hereditary mutations**:
- Germline status (negative, VUS, positive)
- Tumor context (HRD score, TMB, etc.)
- Gate-based drug recommendations

### Integration:
- Uses `SporadicContext` for state management
- Uses `SporadicWorkflow` component
- Biomarker-driven decision gates

### Status: âœ… PRODUCTION READY for oncologists

---

## ğŸ­ MYELOMA DIGITAL TWIN AUDIT

### Location: `/myeloma-digital-twin` â†’ `MyelomaDigitalTwin.jsx`

### Purpose:
Create a **digital twin** of a myeloma patient for:
- Variant analysis (mutations list)
- Treatment history tracking
- Drug efficacy prediction (S/P/E)
- Resistance prediction
- CoPilot integration

### Key Components:
- `VariantInputList` - Mutation input
- `TreatmentHistoryForm` - Treatment line tracking
- `MyelomaResponseDisplay` - Results display
- `EfficacyPanel` - Drug efficacy
- `ResistancePanel` - Resistance prediction
- `AssistantPanel` - AI assistance

### Integration:
- Uses Evo2 models (1B/7B)
- Uses `useAnalysisHistory` for saving
- Uses `useCoPilotIntegration` for context

### Status: âš ï¸ NEEDS PERSONA PROTECTION
Should be oncologist/researcher only.

---

## ğŸ¤– AGENTS PAGE AUDIT

### Location: `/agents` â†’ `AgentsPage.jsx`

### Purpose:
Dashboard for viewing/managing all agents in the system.
Could potentially be used for:
- Agent selection for specific tasks
- Agent status monitoring
- Pipeline composition

### Status: ğŸ”² NEEDS DEEPER AUDIT
Need to understand how this relates to MOAT orchestrator.

---

## ğŸ“Š ROUTE CATEGORIZATION SUMMARY

### MOAT CORE (Keep - Production Ready)
- `/universal-complete-care` âœ…
- `/universal-trial-intelligence` âœ…
- `/orchestrator` âœ…
- `/research-intelligence` âœ… (JUST ADDED)
- `/clinical-genomics` âœ…
- `/synthetic-lethality` âœ…
- `/dosing-guidance` âœ…

### PATIENT PERSONA (Keep)
- `/ayesha-complete-care` âœ…
- `/ayesha-trials` âœ…
- `/patient/profile` âœ…
- `/patient/dashboard` âœ…
- `/patient/settings` âœ…

### SPECIALTY TOOLS (Keep - Add Persona Protection)
- `/sporadic-cancer` - Oncologist/Researcher
- `/myeloma-digital-twin` - Oncologist/Researcher
- `/threat-assessor` - Needs audit
- `/radonc-co-pilot` - RadOnc specialty

### RESEARCH ONLY (Keep - Researcher Only)
- `/tools` (Armory) âœ…
- `/crispr-designer` âœ…
- `/protein-synthesis` ğŸ”² Needs persona
- `/structure-predictor` ğŸ”² Needs persona

### DEV-GATE CANDIDATES
- `/investor-slideshow`
- `/demo-summarizer`
- `/food-validator`
- `/batch-food-validator`
- `/runx-conquest`
- `/campaigns/pik3ca-de-risking`

---

## ğŸš€ NEXT STEPS FOR ZO

1. **Test Research Intelligence E2E** - Verify the route works in browser
2. **Test Clinical Trials with AstraDB** - Full vector search test
3. **Wire up patient-friendly language** - Use PatientLanguageTranslator
4. **Audit `/research` page** - Compare with `/research-intelligence`
5. **Document CoPilot recommendations** - For future agent to implement

---

## ğŸ“ NOTES FOR OTHER AGENTS

### For Plumber Agent:
- See "PLUMBER AGENT REQUESTS" section above
- Focus on modularization and cleanup
- Don't touch core logic, just structure

### For MOAT Agents:
- Clinical trials now use Cohere (not Google AI)
- Research Intelligence is wired up
- Database persistence needs PostgREST cache refresh

### For Patient Experience Agent:
- Ayesha routes are working
- Need patient-friendly language in Research Intelligence
- Dossier sharing/export needed

