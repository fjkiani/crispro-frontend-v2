---
title: "Tumor Board Scribe ‚Äî Ayesha Bundle (L1) 2026-02-12 (INDEX ONLY)"
ruo: true
status: "INDEX_ONLY"
reason:
  - "This file previously mixed bundle-only content with re-run/code-derived addenda."
  - "Split structure prevents accidental quoting of engineering claims as payload facts when payloads drift."
---

## ‚úÖ Use these three split documents (manager-approved structure)

- **Bundle-only tumor board packet (quote-safe)**: `.cursor/ayesha/TUMOR_BOARD_PACKET__BUNDLE_ONLY.md`
  - Contract: JSON-field-path evidence only; if silent, say **Unknown** and name the missing field.
  - No re-runs. No backend code. No equations.

- **Engineering explanations (why the JSON looks like it does)**: `.cursor/ayesha/ENGINE_EXPLANATIONS__WHY_THE_BUNDLE_LOOKS_LIKE_THIS.md`
  - Code paths, equations, config flags, re-run receipts, drift analysis.

- **Open questions / mission queue (receipts required)**: `.cursor/ayesha/OPEN_QUESTIONS__MISSION_QUEUE.md`
  - One mission ‚Üí one proof artifact; acceptance criteria must be satisfiable by receipts.

## Source artifacts (captured payload)

- Captured bundle: `artifacts/payload.md`
- Machine-extracted JSON: `artifacts/payload.extracted.json`

---
title: "Tumor Board Scribe ‚Äî Ayesha Bundle (L1) 2026-02-12"
source_bundle: "artifacts/payload.md (embedded JSON bundle)"
derived_clean_json: "artifacts/payload.extracted.json (machine-extracted copy)"
ruo: true
notes:
  - "This document uses ONLY what the bundle contains."
  - "Where the bundle is silent, we say Unknown and name the missing field."
---

## 0) What this bundle is (and why it exists)

This bundle is a **single API response** captured in a terminal log.

- **Endpoint captured**: `POST /api/ayesha/therapy-fit/bundle?level=l1&include_synthetic_lethality=true`
- **Capture format**: a terminal run attempted to pipe the JSON into an inline Python snippet; the capture includes the JSON but ends with a `SyntaxError` because the JSON and python snippet were concatenated in the terminal stream.

The bundle is designed to be a single ‚Äútruth object‚Äù that contains (at L1):

- what inputs were used (`levels.L1.inputs_used`)
- the WIWFM efficacy ranking (`levels.L1.efficacy`)
- the Synthetic Lethality panel (`levels.L1.synthetic_lethality`)
- completeness/missing data (`levels.L1.completeness`, `tests_needed`)

## 1) Bundle contents ‚Äî minimal factual synopsis (no interpretation)

### 1.1 Identity / timing

- **Contract**: `contract_version = "v2.0"` (`contract_version`)
- **Patient ID**: `patient_id = "AK"` (`patient_id`)
- **Generated at**: `generated_at = "2026-02-12T16:51:53.836997"` (`generated_at`)
- **Levels**: `requested_levels = ["L1"]` (`requested_levels`) and `levels` contains `L1` (`levels.L1`)

### 1.2 Inputs actually used at L1

Mutations (`levels.L1.inputs_used.mutations`):

- **MBD4**: HGVS only; no chrom/pos/ref/alt present (`levels.L1.inputs_used.mutations[0]`)
- **PDGFRA**: HGVS only; no chrom/pos/ref/alt present (`levels.L1.inputs_used.mutations[1]`)
- **TP53**: allele-complete with `chrom="17" pos=7577120 ref="G" alt="A"` (`levels.L1.inputs_used.mutations[2]`)

Tumor context (`levels.L1.inputs_used.tumor_context`):

- `completeness_score = 0.55`
- `msi_status = "MSS"`
- `pd_l1_status = "POSITIVE"`, `pd_l1_cps = 10`
- `er_status = "WEAKLY_POSITIVE"`, `er_percent = 50`

### 1.3 L1 completeness / missing data

- `levels.L1.completeness.completeness_score = 0.55`
- Missing fields listed explicitly: `["HRD score","TMB score","RNA expression data","CA-125 lab values"]` (`levels.L1.completeness.missing`)
- Confidence cap stated: `levels.L1.completeness.confidence_cap = 0.6`

### 1.4 WIWFM efficacy panel summary (what it actually scored)

- Drug rows are present under `levels.L1.efficacy.drugs` (10 rows).
- Evidence fields are empty/zeroed across those rows:
  - `evidence_strength = 0.0`
  - `citations = []`
  - `citations_count = 0`
  - `evidence_manifest.pubmed_query = null`
  - `ruo_reasons` includes `"no-citations"`

Sequence scoring provenance for efficacy (`levels.L1.efficacy.provenance.sequence_scoring`):

- `engine_used = "evo2"`
- `count = 1`
- `variants_sent_to_engine`: only TP53 (`levels.L1.efficacy.provenance.sequence_scoring.variants_sent_to_engine`)
- `variants_excluded`: MBD4 + PDGFRA with `reason="missing_chrom_or_pos"` (`levels.L1.efficacy.provenance.sequence_scoring.variants_excluded`)

### 1.5 Synthetic Lethality (SL) panel summary

SL status + headline:

- `synthetic_lethality_detected = true` (`levels.L1.synthetic_lethality.synthetic_lethality_detected`)
- `double_hit_description = "Base Excision Repair pathway loss"` (`levels.L1.synthetic_lethality.double_hit_description`)
- `suggested_therapy = "Ceralasertib"` (`levels.L1.synthetic_lethality.suggested_therapy`)

Broken pathways (`levels.L1.synthetic_lethality.broken_pathways`):

- `BER`: `status="non_functional"`, `genes_affected=["MBD4"]`, `disruption_score=0.654`
- `CHECKPOINT`: `status="compromised"`, `genes_affected=["TP53"]`, `disruption_score=0.55`
- `UNKNOWN`: `status="functional"`, `genes_affected=["PDGFRA"]`, `disruption_score=0.35`

Essential backup pathways (`levels.L1.synthetic_lethality.essential_pathways`):

- `ATR` and `WEE1` appear with `disruption_score=0.15` and descriptions that explicitly mention ‚ÄúDepMap lineage grounding ‚Ä¶ +0.15 confidence boost.‚Äù
- `HR` and `PARP` appear with `disruption_score=0.0` and descriptions listing PARP inhibitors as targetable.

SL recommended drugs (`levels.L1.synthetic_lethality.recommended_drugs`):

- `Ceralasertib` (ATR) `confidence=0.85`
- `Adavosertib` (WEE1) `confidence=0.85`
- `Olaparib` (HR) `confidence=0.7`
- `Niraparib` (HR) `confidence=0.7`
- `Rucaparib` (PARP) `confidence=0.7`

SL provenance contains auditable receipts:

- `provenance.status = "ok"` (`levels.L1.synthetic_lethality.provenance.status`)
- `true_scoring_required = true` (`levels.L1.synthetic_lethality.provenance.true_scoring_required`)
- `hgvs_resolution[]` receipts include a left-pad deletion normalization note for MBD4 (`levels.L1.synthetic_lethality.provenance.hgvs_resolution[*]`)
- `sequence_scoring.variants_sent_to_engine` includes Evo2 receipts for MBD4/PDGFRA/TP53 (`levels.L1.synthetic_lethality.provenance.sequence_scoring.variants_sent_to_engine[*].evo2_receipt`)

---

## 2) Tumor Board Scribe ‚Äî 18 precise questions an ovarian oncologist might ask (with explanations of ‚Äúwhy this question arises‚Äù)

These are the questions you should expect in a tumor board discussion **based on what this specific bundle shows**.

### A) Why are specific drugs ranked as they are?

1) **Why are paclitaxel and adavosertib at 0.32 while most others are 0.12?**
   - Why it arises: the table contains two efficacy bands (0.32 vs 0.12) without an explicit explanatory flag.
   - Supporting paths: `levels.L1.efficacy.drugs[*].name`, `levels.L1.efficacy.drugs[*].efficacy_score`

2) **Why is olaparib‚Äôs efficacy 0.12 even though the PARP germline gate says FULL_EFFECT?**
   - Why it arises: the gate indicates ‚Äúno penalty,‚Äù yet the headline efficacy is still low.
   - Supporting paths: `levels.L1.efficacy.drugs[?name=="olaparib"].efficacy_score`, `levels.L1.efficacy.drugs[?name=="olaparib"].sporadic_gates_provenance.rationale[*].gate`, `...verdict`, `...penalty`

3) **Which variants were actually scored by the WIWFM sequence engine in this run?**
   - Why it arises: ranking can only reflect variants that were scored.
   - Supporting paths: `levels.L1.efficacy.provenance.sequence_scoring.variants_sent_to_engine`, `...engine_used`, `...count`

4) **Why were MBD4 and PDGFRA excluded from WIWFM sequence scoring?**
   - Why it arises: they are present in `inputs_used.mutations` but absent from the engine inputs.
   - Supporting paths: `levels.L1.inputs_used.mutations`, `levels.L1.efficacy.provenance.sequence_scoring.variants_excluded[*]`

5) **What pathway(s) contributed to the WIWFM panel, and are we essentially seeing a TP53-only pathway model?**
   - Why it arises: pathway_scores appear limited to TP53 (`{"tp53":0.4}`).
   - Supporting paths: `levels.L1.efficacy.pathway_scores`, `levels.L1.efficacy.provenance.sequence_scoring.variants_sent_to_engine`

6) **Did any drug meet an evidence gate (or are all ‚Äúinsufficient‚Äù because evidence is 0)?**
   - Why it arises: `evidence_strength=0.0` and `citations_count=0` appear across drugs.
   - Supporting paths: `levels.L1.efficacy.drugs[*].meets_evidence_gate`, `...evidence_strength`, `...citations_count`, `...evidence_tier`

7) **Is ‚Äúevidence enabled‚Äù but returning empty, or is evidence not being queried?**
   - Why it arises: the run flags `evidence_enabled=true`, but `pubmed_query=null` and citations are empty.
   - Supporting paths: `levels.L1.efficacy.provenance.flags.evidence_enabled`, `levels.L1.efficacy.drugs[*].evidence_manifest.pubmed_query`

8) **Were ‚Äúinsights‚Äù included, or skipped due to fast mode?**
   - Why it arises: insights can modulate confidence and interpretation; this bundle says it was skipped.
   - Supporting paths: `levels.L1.efficacy.provenance.insights`

### B) How did SL arrive at dependencies and recommendations?

9) **What exact criteria triggered ‚Äúsynthetic_lethality_detected = true‚Äù?**
   - Why it arises: tumor board will ask ‚Äúwhat rule are you using?‚Äù
   - Supporting paths: `levels.L1.synthetic_lethality.synthetic_lethality_detected`, `levels.L1.synthetic_lethality.provenance.decision_rule.sl_detected_criteria`

10) **Which pathways are considered broken, and what are their disruption scores and gene drivers?**
   - Why it arises: this is the core mechanistic claim.
   - Supporting paths: `levels.L1.synthetic_lethality.broken_pathways[*].pathway_id`, `...status`, `...disruption_score`, `...genes_affected`

11) **Why are ATR and WEE1 listed as essential backups, and what is the evidence for that in this bundle?**
   - Why it arises: ATR/WEE1 are the top recommended axis in SL.
   - Supporting paths: `levels.L1.synthetic_lethality.essential_pathways[*].pathway_id`, `...description`, `...disruption_score`

12) **Why are Ceralasertib and Adavosertib recommended at confidence 0.85, and what is the basis of that confidence?**
   - Why it arises: tumor board will challenge the confidence number.
   - Supporting paths: `levels.L1.synthetic_lethality.recommended_drugs[*].drug_name`, `...confidence`, `...rationale`

13) **Does SL use rules, a model, or both ‚Äî and does it state its detection method?**
   - Why it arises: ‚Äúblack box‚Äù vs ‚Äúrule-based‚Äù matters.
   - Supporting paths: `levels.L1.synthetic_lethality.provenance.detection_method`, `...signals_used`

14) **Did SL truly score the variants with Evo2, and can we audit the receipts?**
   - Why it arises: this is the ‚Äúproof chain‚Äù requirement.
   - Supporting paths: `levels.L1.synthetic_lethality.provenance.sequence_scoring.variants_sent_to_engine[*].evo2_receipt`

15) **How were HGVS-only variants normalized into genomic alleles for Evo2 scoring?**
   - Why it arises: MBD4 is an indel; normalization can change alleles.
   - Supporting paths: `levels.L1.synthetic_lethality.provenance.hgvs_resolution[*].receipt`, `...note`

### C) What data is missing, and what should be gathered next?

16) **What does the bundle itself claim is missing at L1, and what confidence cap does it apply?**
   - Why it arises: the system is explicit about missing fields and caps.
   - Supporting paths: `levels.L1.completeness.missing`, `levels.L1.completeness.confidence_cap`, `levels.L1.completeness.completeness_score`

17) **Which tests are explicitly recommended, and what downstream analyses do they unlock?**
   - Why it arises: this maps to next clinical actions.
   - Supporting paths: `tests_needed[*].test`, `tests_needed[*].unlocks`, `tests_needed[*].why`

18) **Which biomarkers are present today (PD-L1, ER, MSI) and which are absent (HRD/TMB/CA-125/expression)?**
   - Why it arises: clarifies what conclusions can/can‚Äôt be drawn today.
   - Supporting paths: `levels.L1.inputs_used.tumor_context.*`, `levels.L1.completeness.has_hrd`, `...has_tmb`, `...has_ca125`, `...has_expression`

---

## 3) Clarifier answers ‚Äî full explanations using only what the payload can prove

This section answers the likely follow-ups **as you would speak in a tumor board**, but without importing external facts. When the payload can‚Äôt answer, we say what‚Äôs missing.

**Update note (important):** Sections 2‚Äì5 were drafted from a captured L1 payload snapshot. After re-running the backend, we observed drift in key fields (notably `sequence_scoring.count` and `variants_excluded[*].reason`). For the **current, receipt-backed answers** and the **code-level ‚Äúwhy‚Äù**, use Addendum ¬ß6 (which supersedes any stale snapshot-specific claims below).

### 3.1 Why are paclitaxel/adavosertib 0.32 while most others are 0.12?

From the bundle, we can say only this:

- The efficacy table contains at least two efficacy-score clusters: `0.32` (e.g., paclitaxel/adavosertib) and `0.12` (many others).  
  - Evidence: `levels.L1.efficacy.drugs[*].efficacy_score`, `levels.L1.efficacy.drugs[*].name`
- The bundle does **not** provide an explicit per-drug formula or a ‚Äúwhy this drug got 0.32‚Äù trace beyond the per-drug `rationale` components and gate provenance.  
  - Evidence of what exists: `levels.L1.efficacy.drugs[*].rationale`, `levels.L1.efficacy.drugs[*].sporadic_gates_provenance`

**Unknown from this payload**: the precise rule that creates the 0.32 vs 0.12 split.  
**Would need**: an explicit score breakdown (e.g., `levels.L1.efficacy.drugs[*].score_breakdown`) or the scoring equation with the intermediate values exposed (not present).

### 3.2 Why is olaparib 0.12 even though PARP_GERMLINE is FULL_EFFECT?

The payload supports the following explanation:

- The PARP gate logic applied to olaparib explicitly says `PARP_GERMLINE` with `verdict="FULL_EFFECT"` and `penalty=1.0`, i.e., it did **not** penalize PARP.  
  - Evidence: `levels.L1.efficacy.drugs[?name=="olaparib"].sporadic_gates_provenance.rationale[*].gate`, `...verdict`, `...penalty`
- The drug‚Äôs own S/P/E rationale shows:
  - sequence percentile is `0.8`
  - pathway percentile is `0.0`
  - evidence strength is `0.0`  
  - Evidence: `levels.L1.efficacy.drugs[?name=="olaparib"].rationale`

So, the bundle explains ‚Äúlow efficacy‚Äù in terms of its returned S/P/E component values: **no evidence** and **zero pathway percentile**, despite ‚Äúno PARP penalty.‚Äù  
What we cannot say (from this payload alone) is why the pathway percentile is 0.0 for olaparib in this L1 run.

**Unknown from this payload**: whether this is a bug or intended conservatism.  
**Would need**: an explicit pathway-to-drug mapping trace for olaparib in this run (not present), or a code/version trace that outputs why pathway percentile was 0.0.

### 3.3 Which variants actually drove WIWFM scoring here?

In the captured payload snapshot used for this section, the WIWFM efficacy panel only sent one variant to the sequence engine:

- `engine_used="evo2"`, `count=1`, and `variants_sent_to_engine` lists TP53 only.  
  - Evidence: `levels.L1.efficacy.provenance.sequence_scoring.engine_used`, `...count`, `...variants_sent_to_engine`
- MBD4 and PDGFRA were excluded due to `missing_chrom_or_pos`.  
  - Evidence: `levels.L1.efficacy.provenance.sequence_scoring.variants_excluded[*].reason`

Therefore, the efficacy panel‚Äôs pathway scores are limited to what it can infer from the scored content; the payload also shows only `pathway_scores={"tp53":0.4}`.  
- Evidence: `levels.L1.efficacy.pathway_scores`

### 3.4 Why are there zero citations and evidence_strength=0.0 for all drugs?

From the bundle:

- Every drug row shows `evidence_strength=0.0`, `citations=[]`, `citations_count=0`.  
  - Evidence: `levels.L1.efficacy.drugs[*].evidence_strength`, `...citations`, `...citations_count`
- The evidence manifest has `pubmed_query=null` and `citations=[]`.  
  - Evidence: `levels.L1.efficacy.drugs[*].evidence_manifest.pubmed_query`, `...evidence_manifest.citations`
- The run flags show `evidence_enabled=true`.  
  - Evidence: `levels.L1.efficacy.provenance.flags.evidence_enabled`

**Unknown from this payload**: whether evidence retrieval failed, was skipped, or is stubbed for this run, because the bundle includes no explicit evidence-provider error or ‚Äúskipped‚Äù reason field.  
**Would need**: an evidence provenance object such as `levels.L1.efficacy.provenance.evidence_provider_status` or `...evidence_errors` or an `evidence_run_log` (not present).

### 3.5 How does SL arrive at ATR/WEE1 dependencies and why are ATR/WEE1 top recommendations?

This bundle provides a self-contained mechanistic chain (as encoded by fields):

- SL detection is on: `synthetic_lethality_detected=true`.  
  - Evidence: `levels.L1.synthetic_lethality.synthetic_lethality_detected`
- SL labels BER as non-functional driven by MBD4, and CHECKPOINT as compromised driven by TP53.  
  - Evidence: `levels.L1.synthetic_lethality.broken_pathways[*].pathway_id`, `...status`, `...genes_affected`, `...disruption_score`
- SL then lists ATR and WEE1 under `essential_pathways` with explicit descriptions that state they are dependencies ‚Äúdue to Cell Cycle Checkpoint loss,‚Äù and include a ‚ÄúDepMap lineage grounding ‚Ä¶ +0.15 confidence boost‚Äù phrase.  
  - Evidence: `levels.L1.synthetic_lethality.essential_pathways[*].pathway_id`, `...description`, `...disruption_score`
- The top SL recommended drugs match those pathways:
  - `Ceralasertib` targets `ATR` with `confidence=0.85`
  - `Adavosertib` targets `WEE1` with `confidence=0.85`  
  - Evidence: `levels.L1.synthetic_lethality.recommended_drugs[*].drug_name`, `...target_pathway`, `...confidence`
- The SL ‚Äúsuggested therapy‚Äù is `Ceralasertib`.  
  - Evidence: `levels.L1.synthetic_lethality.suggested_therapy`

SL is also more ‚Äúinput-complete‚Äù than WIWFM in this payload:

- SL sets `true_scoring_required=true` and includes HGVS‚ÜíGRCh38 receipts (including indel normalization) and Evo2 receipts for all three genes in its own provenance.  
  - Evidence: `levels.L1.synthetic_lethality.provenance.true_scoring_required`, `...hgvs_resolution[*]`, `...sequence_scoring.variants_sent_to_engine[*].evo2_receipt`

---

## 4) Tumor-board note (paste-ready; RUO; bundle-only)

**Patient/Bundle**: Ayesha (`patient_id="AK"`), Therapy-Fit L1 bundle (`contract_version="v2.0"`) generated at `generated_at="2026-02-12T16:51:53.836997"`.  
Evidence: `patient_id`, `contract_version`, `generated_at`, `levels.L1`

### Tumor biology represented in this payload

- L1 data completeness is `0.55` with an explicit confidence cap of `0.6`, and the bundle explicitly lists missing HRD score, TMB score, RNA expression data, and CA-125 lab values.  
  - Evidence: `levels.L1.completeness.completeness_score`, `levels.L1.completeness.confidence_cap`, `levels.L1.completeness.missing`
- Mutations listed in `inputs_used` include MBD4 frameshift (HGVS-only), PDGFRA missense (HGVS-only), and TP53 R175H with allele-complete coordinates.  
  - Evidence: `levels.L1.inputs_used.mutations[*]`
- Tumor context includes MSS, PD-L1 positive with CPS 10, and weakly positive ER at 50%.  
  - Evidence: `levels.L1.inputs_used.tumor_context.msi_status`, `...pd_l1_status`, `...pd_l1_cps`, `...er_status`, `...er_percent`

### Synthetic lethality signal and mechanistic rationale (bundle-defined)

- SL is detected (`synthetic_lethality_detected=true`) with the bundle describing a BER-pathway loss.  
  - Evidence: `levels.L1.synthetic_lethality.synthetic_lethality_detected`, `levels.L1.synthetic_lethality.double_hit_description`
- Broken pathways include BER non-functional due to MBD4 and checkpoint compromised due to TP53.  
  - Evidence: `levels.L1.synthetic_lethality.broken_pathways[*]`
- Essential backup pathways include ATR and WEE1 (`disruption_score=0.15` each) with descriptions explicitly tying these dependencies to checkpoint loss and including ‚ÄúDepMap lineage grounding ‚Ä¶ +0.15 confidence boost‚Äù statements.  
  - Evidence: `levels.L1.synthetic_lethality.essential_pathways[*].pathway_id`, `...disruption_score`, `...description`
- SL recommended therapies prioritize ATR/WEE1 axis:
  - Ceralasertib (ATR) `confidence=0.85`
  - Adavosertib (WEE1) `confidence=0.85`
  - Suggested therapy: Ceralasertib  
  - Evidence: `levels.L1.synthetic_lethality.recommended_drugs[*]`, `levels.L1.synthetic_lethality.suggested_therapy`

### WIWFM efficacy panel limitations in this payload (why ranking is constrained)

- The efficacy panel‚Äôs sequence scoring is only as strong as the variants that were actually sent to the sequence engine; use `sequence_scoring.count`, `variants_sent_to_engine[]`, and `variants_excluded[]` to see what was scored vs. skipped.  
  - Evidence: `levels.L1.efficacy.provenance.sequence_scoring.count`, `...variants_sent_to_engine`, `...variants_excluded[*].reason`
- Important: this document had an older snapshot interpretation (‚Äúcount=1 / missing coords‚Äù). A fresh re-run showed `count=2`, with PDGFRA+TP53 sent and MBD4 excluded for `non_snv_requires_normalization`.  
  - Evidence: see Addendum ¬ß6.0 (‚ÄúLive receipts‚Äù)
- Evidence/literature is absent in the efficacy panel for this run (`evidence_strength=0.0`, `citations_count=0`, `pubmed_query=null`) even though the run flags say evidence is enabled.  
  - Evidence: `levels.L1.efficacy.drugs[*].evidence_strength`, `...citations_count`, `...evidence_manifest.pubmed_query`, `levels.L1.efficacy.provenance.flags.evidence_enabled`

### Follow-up tests explicitly recommended by the bundle

- HRD assay (unlocks PARP sensitivity prediction and platinum response analysis).  
  - Evidence: `tests_needed[0].test`, `tests_needed[0].unlocks`, `tests_needed[0].why`
- Comprehensive genomic profiling for TMB (unlocks immunotherapy eligibility analysis).  
  - Evidence: `tests_needed[1].test`, `tests_needed[1].unlocks`, `tests_needed[1].why`
- RNA sequencing/transcriptome (unlocks pathway activation scores and MoA context).  
  - Evidence: `tests_needed[2].test`, `tests_needed[2].unlocks`, `tests_needed[2].why`
- Serum CA-125 baseline (unlocks tumor burden baseline for later monitoring context).  
  - Evidence: `tests_needed[3].test`, `tests_needed[3].unlocks`, `tests_needed[3].why`

---

## 5) Practical ‚Äúhow to answer in the room‚Äù crib notes (bundle-only)

### If asked ‚Äúwhy do we believe the SL panel more than the WIWFM panel here?‚Äù

You can say (bundle-only):

- SL includes HGVS‚ÜíGRCh38 resolution receipts and scored MBD4/PDGFRA/TP53 (`true_scoring_required=true` + `hgvs_resolution[]` + `variants_sent_to_engine[]`).  
  - Evidence: `levels.L1.synthetic_lethality.provenance.true_scoring_required`, `levels.L1.synthetic_lethality.provenance.hgvs_resolution[*]`, `levels.L1.synthetic_lethality.provenance.sequence_scoring.variants_sent_to_engine[*]`
- WIWFM may exclude variants from sequence scoring depending on normalization/availability; you must quote the actual `variants_excluded[*].reason` and `count` from the specific run you‚Äôre presenting.  
  - Evidence: `levels.L1.efficacy.provenance.sequence_scoring.variants_excluded[*].reason`, `levels.L1.efficacy.provenance.sequence_scoring.count`
- For this bundle family, the re-run receipts show WIWFM excluded MBD4 for `non_snv_requires_normalization` (not ‚Äúmissing coords‚Äù) and did score PDGFRA+TP53 (`count=2`).  
  - Evidence: see Addendum ¬ß6.0

### If asked ‚Äúwhy are there no citations?‚Äù

You can say (bundle-only):

- This run returns `citations_count=0` and `pubmed_query=null` for all efficacy drug rows, and the RUO reasons include ‚Äúno-citations.‚Äù  
  - Evidence: `levels.L1.efficacy.drugs[*].citations_count`, `levels.L1.efficacy.drugs[*].evidence_manifest.pubmed_query`, `levels.L1.efficacy.drugs[*].ruo_reasons`
- The payload does not include an evidence-provider status/error object, so we cannot say whether evidence retrieval failed or was skipped; we‚Äôd need explicit evidence provenance fields.  
  - Missing field example: `levels.L1.efficacy.provenance.evidence_provider_status` (not present)

---

## 6) PhD addendum ‚Äî runtime receipts + backend-mechanistic explanations for every question

This addendum goes beyond ‚Äúinterpret the JSON‚Äù and explains **why the JSON looks like this** by:

- re-running the backend locally (same endpoints)
- extracting compact receipts from live API responses
- anchoring key behaviors to the exact backend rules (code)
- running a controlled ablation (`fast=false`) to distinguish:
  - ‚Äúevidence wasn‚Äôt gathered‚Äù vs
  - ‚Äúevidence was gathered but returned 0 PMIDs‚Äù

**Research Use Only (RUO):** This is an engineering + mechanistic explanation of *our system outputs*, not medical advice.

### 6.0 Live receipts (re-run on 2026-02-12)

We re-ran:

- `POST /api/ayesha/therapy-fit/bundle?level=l1&include_synthetic_lethality=true`

Live receipts from that run:

- **Mutations used are allele-complete (GRCh38)**:
  - MBD4 `3:129433949 AT>A`
  - PDGFRA `4:54280422 T>C`
  - TP53 `17:7577120 G>A`
  - Evidence: `levels.L1.inputs_used.mutations[*].chrom`, `...pos`, `...ref`, `...alt`, `...gene`
- **WIWFM sequence scoring**:
  - `engine_used="evo2"`
  - `count=2`
  - `variants_sent_to_engine=["PDGFRA","TP53"]`
  - `variants_excluded=[("MBD4","non_snv_requires_normalization")]`
  - Evidence: `levels.L1.efficacy.provenance.sequence_scoring.engine_used`, `...count`, `...variants_sent_to_engine`, `...variants_excluded[*].reason`
- **Efficacy score bands** (top of table):
  - paclitaxel/adavosertib ‚âà 0.32
  - many others (including olaparib) ‚âà 0.12
  - Evidence: `levels.L1.efficacy.drugs[*].name`, `levels.L1.efficacy.drugs[*].efficacy_score`
- **SL summary**:
  - `synthetic_lethality_detected=true`
  - `suggested_therapy="Ceralasertib"`
  - SL recommended drugs include:
    - Ceralasertib (ATR) `confidence=0.85`, `fda_approved=false`, `approval_status="INVESTIGATIONAL"`
    - Adavosertib (WEE1) `confidence=0.85`, `fda_approved=false`, `approval_status="INVESTIGATIONAL"`
  - Evidence: `levels.L1.synthetic_lethality.synthetic_lethality_detected`, `...suggested_therapy`, `...recommended_drugs[*].drug_name`, `...confidence`, `...fda_approved`, `...approval_status`

Why this matters: the earlier payload narrative in this file (created from a different captured bundle) says ‚Äúcount=1 and missing coords.‚Äù In the **current backend state**, WIWFM is scoring **two** variants and excluding MBD4 for a different reason. That drift is exactly what causes tumor board distrust if we don‚Äôt document it.

### 6.1 Backend ‚Äúwhy levers‚Äù that dominate this payload

#### Lever A: Therapy-fit forces `fast=true` and disables evidence

In the therapy-fit service, L1 is intentionally set to fast mode with evidence disabled:

```125:141:oncology-coPilot/oncology-backend-minimal/api/services/ayesha_fit/service.py
options={
    "include_low_confidence": True,
    "fast": True,
    "allow_heuristic_sequence": True,
    "include_evidence": False,
    "include_insights": True,
}
```

This is the primary reason the bundle looks ‚Äúcitation-empty.‚Äù

#### Lever B: Evidence gathering is *explicitly gated off* in fast mode

Evidence gather eligibility is:

```37:40:oncology-coPilot/oncology-backend-minimal/api/services/efficacy_orchestrator/helpers/evidence_gatherer.py
gather_evidence = (not fast_mode) and evidence_enabled_flag and primary_gene and primary_variant.get("hgvs_p")
```

So for the bundle (fast=true), evidence is not gathered.

#### Lever C: The 0.32 vs 0.12 split is the equation behaving as designed

Efficacy is computed as:

```286:297:oncology-coPilot/oncology-backend-minimal/api/services/efficacy_orchestrator/drug_scorer.py
raw_lob = 0.3 * seq_pct + 0.4 * path_pct + 0.3 * s_evd + clinvar_prior
if tier != "insufficient":
    lob = raw_lob
else:
    # Default behavior is to suppress efficacy to 0 for insufficient evidence (clinical-safe),
    # but research/validation runs may request a continuous scalar even for low-confidence drugs.
    if getattr(confidence_config, "allow_insufficient_efficacy", False):
        lob = raw_lob * 0.5
    else:
        lob = raw_lob * 0.5 if confidence_config.fusion_active else 0.0
```

In this bundle family: \(s\_evd = 0\) and \(clinvar\_prior = 0\). Many drugs sit in `tier="insufficient"`, and in our observed runs the scorer returned a **continuous scalar for insufficient tier** (the √ó0.5 branch), rather than zeroing them out. Therefore:

- If `seq_pct‚âà0.8` and `path_pct=1.0`:
  - \(raw\_lob = 0.3(0.8)+0.4(1.0)=0.64\)
  - \(lob=0.64√ó0.5=0.32\)
- If `seq_pct‚âà0.8` and `path_pct=0.0`:
  - \(raw\_lob = 0.3(0.8)=0.24\)
  - \(lob=0.24√ó0.5=0.12\)

That is exactly the observed split.

(If the runtime were configured to *not* allow continuous scalars for insufficient tier and Fusion were inactive, those could collapse to 0.0 instead.)

### 6.2 ‚ÄúPhD answers‚Äù ‚Äî question-by-question

Below, each question is answered in this structure:

1) **What the question is really testing**
2) **What the bundle shows**
3) **What the backend is doing**
4) **What we proved with a re-run or ablation**
5) **What remains unknown, and which field would close the gap**

#### Q1) Why are paclitaxel and adavosertib at 0.32 while most others are 0.12?

- **Testing**: Is the score decomposable, or arbitrary?
- **Bundle shows**: ‚Äú0.32 band‚Äù drugs have `pathway.percentile=1.0` in rationale; ‚Äú0.12 band‚Äù drugs have `pathway.percentile=0.0`.
- **Backend**: The scoring equation plus the ‚Äúinsufficient tier handling‚Äù explains the two bands exactly.
  - Code: `raw_lob = 0.3*seq + 0.4*path + 0.3*evidence + clinvar_prior`, then either:
    - `lob = raw_lob` if `tier != "insufficient"`, or
    - `lob = raw_lob*0.5` (continuous scalar mode) / `lob = 0.0` (clinical-safe mode, no Fusion) when `tier="insufficient"`.
  - Code anchor: `api/services/efficacy_orchestrator/drug_scorer.py` (see above).
- **Proved by re-run**: Same split persists in the live bundle.
- **Unknown**: Why a specific drug is assigned `path_pct=1.0` vs `0.0` requires a trace of **drug‚Üípathway weights** and the exact alignment calculation. The bundle does not include:
  - `drugs[*].pathway_alignment_trace` (not present)

#### Q2) Why is olaparib 0.12 even though PARP_GERMLINE is FULL_EFFECT?

- **Testing**: Does ‚ÄúFULL_EFFECT‚Äù mean ‚Äúhigh efficacy,‚Äù or merely ‚Äúno penalty‚Äù?
- **Bundle shows**:
  - Gate: `PARP_GERMLINE: FULL_EFFECT` (penalty=1.0)
  - But rationale shows `pathway.percentile=0.0` and `evidence.strength=0.0`
- **Backend**:
  - PARP germline gate prevents a penalty, but it doesn‚Äôt create pathway alignment or evidence on its own.
  - With `path_pct=0.0` and `s_evd=0.0`, the equation collapses to ‚Äúsequence only,‚Äù then is suppressed by √ó0.5 for insufficient tier ‚Üí ~0.12.
- **Ablation proof (fast=false)**:
  - When we call `/api/efficacy/predict` with `fast=false`, `pubmed_query` becomes non-null (evidence-gather attempted), but `citations_count` remains 0 and `evidence_strength` remains 0.0 in this environment.
  - That means ‚Äúzero citations‚Äù is not solely due to fast-mode gating; it can also be ‚Äúevidence provider returned nothing.‚Äù
- **Unknown**:
  - Why olaparib‚Äôs pathway percentile is 0.0 (and whether the PARP axis should influence path alignment) is not exposed as a trace in the payload.
  - Missing field: `drugs[*].pathway_alignment_trace` or `drug_panel_weights_used`.

#### Q3) Which variants were actually scored by WIWFM‚Äôs sequence engine?

- **Testing**: Are we actually conditioning on the mutation set?
- **Live bundle shows**:
  - Sent: PDGFRA, TP53
  - Excluded: MBD4 due to `non_snv_requires_normalization`
- **Backend**: The sequence scoring stage excludes non-SNVs unless they are normalized for that scorer mode; SL does its own indel normalization separately.
- **Unknown**: Whether WIWFM should normalize indels the same way SL does is an architectural choice; today, it doesn‚Äôt.

#### Q4) Why were MBD4 and PDGFRA excluded?

- **This must be answered with ‚Äúwhich run.‚Äù**
- In the **current live run**:
  - PDGFRA is not excluded.
  - MBD4 is excluded for non-SNV normalization (not missing coordinates).

#### Q5) Are we essentially seeing a TP53-only pathway model?

- **Live bundle shows**:
  - `pathway_scores={"tp53":0.4}`
  - And the per-drug rationale includes pathway breakdown keys including `ras_mapk`.
- **Backend**:
  - Pathway scores come from sequence-scored variants + gene‚Üípathway weights; then each drug maps those pathway scores into `path_pct`.
- **Unknown**:
  - The internal alignment calculation and weights aren‚Äôt surfaced. Add a trace field to eliminate ambiguity.

#### Q6) Did any drug meet an evidence gate?

- In both runs (fast bundle and slow ablation), evidence_strength stays 0.0 and citations_count is 0, so no drug meets an evidence gate.

#### Q7) Is the evidence engine broken or not implemented?

- **Bundle (fast=true)**: evidence isn‚Äôt gathered by design (gated off by fast mode).
- **Ablation (fast=false)**: evidence gathering is attempted (non-null `pubmed_query`), but returns no PMIDs (citations_count=0).

So: it‚Äôs not ‚Äúobviously broken‚Äù; it‚Äôs (a) gated in fast mode, and (b) returning empty in this environment/config.

#### Q8) Were insights included?

- Bundle provenance explicitly states insights were skipped due to fast mode (`insights="skipped_fast_mode"`).

#### Q9) What exact criteria triggered `synthetic_lethality_detected=true`?

- The SL provenance includes a deterministic rule:
  - broken pathway status in {non_functional, compromised}
  - and essential backups present

#### Q10) Which pathways are broken?

- BER: non_functional via MBD4 (0.654)
- CHECKPOINT: compromised via TP53 (0.55)
- UNKNOWN: functional via PDGFRA (0.35) ‚Äî should be rendered neutrally.

#### Q11) Why are ATR and WEE1 essential backups?

- Bundle states these dependencies explicitly in the essential pathway descriptions and ties them to checkpoint loss with a DepMap lineage boost sentence.
- Missing (for a true PhD/peer-review proof): a DepMap receipt object (dataset ID/query).

#### Q12) Why are ATR/WEE1 drugs confidence 0.85?

- That 0.85 is **SL confidence** (SL subsystem).
- The SL rationale includes a DepMap lineage boost and pathway targeting.

#### Q13) Rules vs model?

- SL declares `rules_lof_hotspot` and lists its signals used.
- SL also explicitly states Evo2 delta is ‚Äúdiagnostic only‚Äù in this profile (`delta_role`).

#### Q14) Did SL truly call Evo2?

- Yes: Evo2 receipts exist per variant under SL provenance (`variants_sent_to_engine[*].evo2_receipt`).

#### Q15) How was HGVS normalized for indels?

- MBD4 HGVS resolution returns ALT='-' + a flag requiring left padding.
- A second receipt shows left padding ‚Üí VCF-style `AT>A`.

#### Q16‚ÄìQ18) Missing data + test plan

These are already deterministic in the payload and remain correct:

- Missing at L1: HRD, TMB, RNA expression, CA-125
- Tests needed: HRD, CGP for TMB, RNA-seq, CA-125 baseline

### 6.3 Note on SL ‚Äúexplanations‚Äù when `include_explanations=true`

When we ran SL with `include_explanations=true`, the `explanation` field returned:

- ‚ÄúAI Service Unavailable (Missing Gemini API Key configuration).‚Äù

This means:

- The *deterministic* SL outputs (pathways, drugs, provenance receipts) are still valid and present.
- The ‚ÄúLLM-generated clinician narrative explanation‚Äù is unavailable in this environment until a Gemini key is configured.

---

## 7) MISSION ORDERS v2 ‚Äî Corrected Agent Protocols üî±

> **v2 supersedes the original Section 7 missions.** Zo's review identified 3 hallucination errors
> in the original analysis (see ¬ß7.0 below). The original Missions 4 and 3 (in ¬ß8) were executed
> correctly and their receipts stand. The remaining missions are replaced by the constrained agent
> types defined below.

### 7.0 CORRECTIONS LEDGER (Zo's Errors ‚Äî Acknowledged) ‚ö†Ô∏è

| # | Error | What Zo Said | What This Payload Actually Shows | Label |
|---|-------|-------------|--------------------------------|-------|
| 1 | MBD4 exclusion reason | `non_snv_requires_normalization` | `missing_chrom_or_pos` (`levels.L1.efficacy.provenance.sequence_scoring.variants_excluded[*].reason`) | **Observed (re-run) ‚â† Observed (this payload)** ‚Äî Zo conflated the re-run (¬ß6.0) with this snapshot |
| 2 | WIWFM variant count | "TP53 + PDGFRA scored" | `count=1`, TP53 only. PDGFRA excluded for `missing_chrom_or_pos`. (`levels.L1.efficacy.provenance.sequence_scoring.count`, `variants_sent_to_engine`) | **Observed (re-run) ‚â† Observed (this payload)** |
| 3 | Scoring equation | "0.3√óseq + 0.4√ópath, halved" | **Not present in this payload.** Sourced from `drug_scorer.py` (¬ß6.1 Lever C) but presented as payload-fact. | **Hypothesis (needs external: code)** ‚Äî should never be stated as payload-observed |

**Root Cause**: Zo mixed two data sources (this captured payload vs. the live re-run) without labeling which was which. This is exactly why the 3-Label Rule exists.

---

### 7.1 THE 3-LABEL RULE (Mandatory for All Agent Output) ÔøΩÔ∏è

Every sentence in any agent output must be labeled as one of:

| Label | Meaning | Requirement |
|-------|---------|-------------|
| **Observed (payload)** | Directly visible in the L1 JSON | Must cite exact JSON path |
| **Inferred (payload-consistent)** | Logical connection between ‚â•2 payload fields | Must cite at least 2 payload fields it connects |
| **Hypothesis (needs external)** | Requires code, paper, guideline, or external data | Must name the specific external source required |

**Violations = Hallucination. Hallucination = Death in the boardroom.**

---

### 7.2 CONSTRAINED AGENT MISSIONS (Replacing Original Missions 1, 2, 5, 6)

#### AGENT A: Mismatch Explainer (Efficacy vs SL) üéØ
**Goal**: Explain, in tumor-board language, why efficacy and SL disagree on which genes "matter" in this run.
**Required outputs**:
- A two-column list: "Efficacy can see" vs "SL can see"
- Each item backed by payload fields: `variants_sent_to_engine`, `variants_excluded`, `hgvs_resolution`, `broken_pathways`
- **Every sentence labeled**: Observed / Inferred / Hypothesis

#### AGENT B: Causality Chain (SL Kill-Chain) ‚öîÔ∏è
**Goal**: Produce a defensible chain of reasoning: mutation ‚Üí pathway status ‚Üí dependency ‚Üí drug class.
**Required outputs**:
- Exactly **3 chains maximum**, each formatted:
  - `Input evidence ‚Üí Pathway claim ‚Üí Dependency claim ‚Üí Proposed drug class`
- All sourced from `broken_pathways`, `essential_pathways`, and `recommended_drugs`
- **Every sentence labeled**: Observed / Inferred / Hypothesis

#### AGENT C: Score Decomposition (No Math Allowed) üßÆ
**Goal**: Clarify "why paclitaxel 0.32 and olaparib 0.12" **without inventing formulas**.
**Required outputs**:
- For each of the **Top 3 drugs** in L1 efficacy, list the payload's `rationale` blocks and their `percentiles`/`strengths` (sequence/pathway/evidence)
- Explicitly state: **"Formula not provided in payload"**
- If the formula is known from code, label it **Hypothesis (needs external: `drug_scorer.py`)**
- **Every sentence labeled**: Observed / Inferred / Hypothesis

#### AGENT D: Actionable Data-Upgrade (Tumor Board Next Steps) üìã
**Goal**: Turn `tests_needed` into the tumor board's next diagnostic plan.
**Required outputs**:
- A ranked list of missing tests with "what decision it unlocks"
- Using the payload's own `unlocks` and `why` fields (`tests_needed[*]`)
- **Every sentence labeled**: Observed / Inferred / Hypothesis

---

### PRIORITY ORDER (v2):
1. **AGENT A** (Mismatch Explainer ‚Äî the "Split Brain" is our core story)
2. **AGENT B** (Causality Chain ‚Äî boardroom defense of SL recommendations)
3. **AGENT C** (Score Decomposition ‚Äî explains why the General scored low)
4. **AGENT D** (Data-Upgrade ‚Äî the "next steps" slide)

**End of Mission Orders v2. The 3-Label Rule is now law.** üì°


---

## 8) MISSION RESULTS ‚Äî Receipts (Executed in Priority Order)

### Mission 4 (DepMap verification) ‚Äî ‚úÖ COMPLETE

**Order:** Open `publications/synthetic_lethality/data/depmap_essentiality_by_context.json`, extract Ovary/Fallopian Tube entries for `ATR`, `WEE1`, `PARP1`, verify `< -0.5` threshold and `n_cell_lines`.

**Receipts (source file + lines):**

```2951:2977:publications/synthetic_lethality/data/depmap_essentiality_by_context.json
"Ovary/Fallopian Tube": {
  // ...
  "ATR": {
    "depmap_mean_effect": -1.0503135420634566,
    "n_models": 59,
    "source": "DepMap CRISPRGeneEffect.csv"
  }
```

```3051:3059:publications/synthetic_lethality/data/depmap_essentiality_by_context.json
"PARP1": {
  "depmap_mean_effect": -0.2193331582593361,
  "n_models": 59,
  "source": "DepMap CRISPRGeneEffect.csv"
}
```

```3087:3095:publications/synthetic_lethality/data/depmap_essentiality_by_context.json
"WEE1": {
  "depmap_mean_effect": -2.775873304554303,
  "n_models": 59,
  "source": "DepMap CRISPRGeneEffect.csv"
}
```

**Compact verdict table (threshold = depmap_mean_effect < -0.5):**

- **ATR | Ovary/Fallopian Tube | mean_effect=-1.0503 | n=59 | qualifies_for_boost=YES**
- **WEE1 | Ovary/Fallopian Tube | mean_effect=-2.7759 | n=59 | qualifies_for_boost=YES**
- **PARP1 | Ovary/Fallopian Tube | mean_effect=-0.2193 | n=59 | qualifies_for_boost=NO**

**Implication (bundle-claim check):** The ‚ÄúDepMap lineage grounding ‚Ä¶ +0.15 confidence boost‚Äù statement is **receipt-backed** for ATR and WEE1 in this lineage, but **not** for PARP1 under a `< -0.5` gate.

---

### Mission 3 (SL confidence 0.85 decomposition) ‚Äî ‚úÖ COMPLETE

**Order:** Find the exact line of code producing `recommended_drugs[*].confidence`, and decompose the 0.85 for Ceralasertib (ATR).

#### 3.A Where `confidence` is produced (the exact assignment)

```60:97:oncology-coPilot/oncology-backend-minimal/api/services/synthetic_lethality/drug_recommender.py
confidence = self._calculate_drug_confidence(...)
confidence, evidence_pmids = self._resolve_confidence(drug_info, confidence)
...
rec = DrugRecommendation(
    ...
    confidence=round(confidence, 3),
    ...
)
```

#### 3.B The formula (base + boosts) and the exact values for Ceralasertib

`_calculate_drug_confidence()` uses:

```122:142:oncology-coPilot/oncology-backend-minimal/api/services/synthetic_lethality/drug_recommender.py
base = 0.4
if disease.lower() in indications: base += 0.2
if target_gene essentiality>=0.7: base += 0.15
if pathway_id in drug_info['pathways']: base += 0.1
base += pathway.disruption_score  # DepMap boost injected upstream
return clamp(base, 0.0, 0.95)
```

For **Ceralasertib** in our L1 bundle family, the plugged values are receipt-backed:

- **base** = 0.40
- **indication boost** = +0.20 because `ceralasertib.indications` includes `ovarian_cancer`
  - Receipt:

```146:156:oncology-coPilot/oncology-backend-minimal/api/services/synthetic_lethality/constants.py
'ceralasertib': {
  ...
  'indications': ['ovarian_cancer', 'lung_cancer'],
  'fda_approved': False,
  'approval_status': 'INVESTIGATIONAL'
}
```

- **target essentiality boost** = +0.00 (no ATR essentiality score is present in `essentiality_scores`; the list is mutation-driven: MBD4/PDGFRA/TP53)
  - Receipt (logic): `target_genes=['ATR']`, but essentiality loop iterates `essentiality_scores` (mutation genes), so it never finds `ATR`.
  - Code: `for score in essentiality_scores: if score.gene in target_genes ...` (lines 129‚Äì133 in same function)
- **pathway alignment boost** = +0.10 because `pathway.pathway_id == 'ATR'` and `ceralasertib.pathways` includes `'ATR'`
  - Receipt:

```146:152:oncology-coPilot/oncology-backend-minimal/api/services/synthetic_lethality/constants.py
'ceralasertib': {
  ...
  'pathways': ['ATR', 'CHECKPOINT'],
}
```

- **DepMap lineage boost** = +0.15 because `pathway.disruption_score` is set to the DepMap boost by the dependency identifier
  - Receipt (where boost is set into the pathway object):

```52:79:oncology-coPilot/oncology-backend-minimal/api/services/synthetic_lethality/dependency_identifier.py
depmap_boost = self._get_depmap_boost(dep['drugs'], lineage)
...
PathwayAnalysis(... disruption_score=depmap_boost, ...)
```

  - Receipt (threshold-to-boost rule):

```111:131:oncology-coPilot/oncology-backend-minimal/api/services/synthetic_lethality/dependency_identifier.py
effect = score_data.get("depmap_mean_effect", 0.0)
if effect < -0.5:
    boost = 0.15
```

  - Receipt (data that satisfies the rule for Ovary/Fallopian Tube / ATR):

```2970:2977:publications/synthetic_lethality/data/depmap_essentiality_by_context.json
"ATR": {
  "depmap_mean_effect": -1.0503135420634566,
  "n_models": 59
}
```

Therefore, for Ceralasertib:

- **confidence = 0.40 + 0.20 + 0.10 + 0.15 = 0.85**

#### 3.C Why it stays 0.85 (no PMID augmentation, no Evo2 cap)

The ‚Äúresolver‚Äù only adds if `drug_info['evidence_pmids']` exists:

```148:153:oncology-coPilot/oncology-backend-minimal/api/services/synthetic_lethality/drug_recommender.py
pmids = drug_info.get('evidence_pmids', [])
if pmids: confidence += boost
```

`ceralasertib` has **no** `evidence_pmids` in the catalog snippet above, so no additional boost is applied.

Also, the ‚ÄúEvo2-not-used cap‚Äù doesn‚Äôt apply here because `evo2_used` is computed true when any essentiality score has `flags.evo2_called`:

```49:74:oncology-coPilot/oncology-backend-minimal/api/services/synthetic_lethality/drug_recommender.py
evo2_used = any(flags.get("evo2_called") for s in essentiality_scores)
if not evo2_used: confidence = min(confidence, 0.6)
```

In the L1 payload family, SL provenance includes Evo2 receipts for the scored genes, so `evo2_used` is true.

---

### Mission 1 (0.32 vs 0.12 pathway alignment) ‚Äî ‚úÖ COMPLETE

**Order:** Trace where `path_pct` is computed, and show exactly why `paclitaxel` gets `path_pct=1.0` while `olaparib` gets `path_pct=0.0` given `pathway_scores={"tp53":0.4}`.

#### 1.A Where `path_pct` is computed (exact code)

`path_pct` is computed in the WIWFM drug scorer from:

1) **drug‚Üípathway weights** (`drug_weights`)
2) the run‚Äôs **aggregated pathway scores** (`pathway_scores`)
3) a **linear normalization** to \([0,1]\)

Receipt:

```48:60:oncology-coPilot/oncology-backend-minimal/api/services/efficacy_orchestrator/drug_scorer.py
drug_weights = get_pathway_weights_for_drug(drug_name, disease=disease)
s_path = sum(pathway_scores.get(pathway, 0.0) * weight for pathway, weight in drug_weights.items())
if s_path > 0:
    path_pct = min(1.0, max(0.0, s_path / 0.005))
else:
    path_pct = 0.0
```

#### 1.B Where each drug‚Äôs weights come from (ovarian panel)

`get_pathway_weights_for_drug()` pulls from the disease-specific panel:

```8:24:oncology-coPilot/oncology-backend-minimal/api/services/pathway/drug_mapping.py
if disease:
    panel = get_panel_for_disease(disease)
    for drug in panel:
        if drug["name"] == drug_name:
            return drug.get("pathway_weights", {})
```

For ovarian disease, the panel is defined here:

```16:35:oncology-coPilot/oncology-backend-minimal/api/services/pathway/panel_config.py
{"name": "olaparib",     "pathway_weights": {"ddr": 1.0}},
{"name": "paclitaxel",   "pathway_weights": {"tp53": 0.6, "ddr": 0.4}},
{"name": "adavosertib",  "pathway_weights": {"tp53": 1.0}},
{"name": "ceralasertib", "pathway_weights": {"ddr": 1.0}},
```

#### 1.C Why `pathway_scores["tp53"] == 0.4` in this L1 bundle family

The pathway aggregator computes a per-gene ‚Äúsignal‚Äù and includes a **hotspot lift** for TP53:

```46:52:oncology-coPilot/oncology-backend-minimal/api/services/pathway/aggregation.py
signal = raw
if gene in HOTSPOT_GENES and pct >= 0.7:
    signal = max(signal, 0.5 * pct)
```

In the L1 bundle family, the sequence rationale reports `percentile=0.8` for the scored primary variant, and the pathway breakdown shows `tp53: 0.4` (consistent with \(0.5 \times 0.8 = 0.4\)).

#### 1.D The requested table (exact `s_path` and `path_pct` for the four drugs)

Given **payload pathway_scores**: `{"tp53": 0.4}` (bundle field path: `levels.L1.efficacy.pathway_scores.tp53`)

and the ovarian panel weights above:

| drug_name | drug_weights | s_path computation | s_path | path_pct = min(1, s_path/0.005) |
|---|---|---:|---:|---:|
| paclitaxel | {tp53:0.6, ddr:0.4} | 0.4√ó0.6 + 0√ó0.4 | 0.24 | 1.0 |
| adavosertib | {tp53:1.0} | 0.4√ó1.0 | 0.40 | 1.0 |
| olaparib | {ddr:1.0} | 0√ó1.0 | 0.00 | 0.0 |
| ceralasertib | {ddr:1.0} | 0√ó1.0 | 0.00 | 0.0 |

**Conclusion (strictly from code + payload fields):**
- `paclitaxel` and `adavosertib` saturate to `path_pct=1.0` because they weight `tp53`, and the run‚Äôs `tp53` pathway score is 0.4.
- `olaparib` and `ceralasertib` get `path_pct=0.0` because they weight `ddr`, and `ddr` is absent/0.0 in this L1 pathway score dict.

---

### Mission 5 (MBD4 exclusion gap ‚Äî WIWFM can‚Äôt normalize indels) ‚Äî ‚úÖ COMPLETE

**Order:** Find (a) the WIWFM filter that emits `non_snv_requires_normalization`, and (b) the SL indel normalization path (left-padding), then decide whether this is intentional or a gap.

#### 5.A WIWFM indel exclusion (where `non_snv_requires_normalization` is emitted)

WIWFM sequence scoring **only** sends allele-complete **SNVs** (1bp `ref` and 1bp `alt`) to Evo2/Fusion, and explicitly rejects indels unless they‚Äôre normalized externally.

Receipts:

```45:47:oncology-coPilot/oncology-backend-minimal/api/services/efficacy_orchestrator/sequence_processor.py
# For "true" scoring, we only send allele-complete SNVs to sequence engines.
# Indels must first be normalized into a validated allele-complete representation (VCF left-padding);
```

```109:121:oncology-coPilot/oncology-backend-minimal/api/services/efficacy_orchestrator/sequence_processor.py
if not chrom or not pos:
    ... reason="missing_chrom_or_pos"
if not ref or not alt:
    ... reason="missing_ref_or_alt"
if len(ref) != 1 or len(alt) != 1:
    ... reason="non_snv_requires_normalization"
```

This is exactly the `variants_excluded` reason you see in the L1 bundle family for `MBD4 c.1293delA` when it is still in an indel/ref-alt form that is not 1bp/1bp.

#### 5.B SL indel normalization (HGVS‚ÜíGRCh38 resolve + left-padding) ‚Äî the working path

The Synthetic Lethality agent explicitly resolves HGVS into allele-complete GRCh38 coordinates and performs **VCF-style left-padding** for single-base deletions when Ensembl returns ALT='-':

Receipts:

```24:24:oncology-coPilot/oncology-backend-minimal/api/services/synthetic_lethality/sl_agent.py
from api.services.variant_resolution import resolve_hgvs_to_grch38, left_pad_single_base_deletion
```

```85:159:oncology-coPilot/oncology-backend-minimal/api/services/synthetic_lethality/sl_agent.py
# Step 0: HGVS -> GRCh38 resolve
receipt = await resolve_hgvs_to_grch38(hgvs=hgvs_used)
...
if norm.get("needs_left_padding_for_deletion"):
    pad = await left_pad_single_base_deletion(...)
    m.chrom = nv.get("chrom"); m.pos = nv.get("pos"); m.ref = nv.get("ref"); m.alt = nv.get("alt")
else:
    m.chrom = chrom; m.pos = pos; m.ref = ref; m.alt = alt
```

#### 5.C Verdict (as required)

**Verdict: `GAP_TO_FIX`.**

Reason (receipt-backed): WIWFM has an explicit contract comment saying indels ‚Äúmust first be normalized‚Äù (SequenceProcessor), but there is no corresponding normalization step there; SL already implements the missing normalization via `resolve_hgvs_to_grch38()` + `left_pad_single_base_deletion()`. This is an asymmetry in implementation, not a principled biological difference.

---

### Mission 2 (Evidence engine autopsy) ‚Äî ‚úÖ COMPLETE

**Order:** Trace `gather_evidence` ‚Üí PubMed query construction ‚Üí actual API call, run `fast=false` + `include_evidence=true`, capture `pubmed_query` and response, then classify `STUBBED | API_KEY_MISSING | QUERY_RETURNS_EMPTY | BROKEN`.

#### 2.A Where the evidence call is made from WIWFM

WIWFM evidence gathering is gated here:

```38:50:oncology-coPilot/oncology-backend-minimal/api/services/efficacy_orchestrator/helpers/evidence_gatherer.py
gather_evidence = (not fast_mode) and evidence_enabled_flag and primary_gene and primary_variant.get("hgvs_p")
...
literature(request.api_base, primary_gene, primary_variant.get("hgvs_p",""), drug["name"], drug["moa"], disease=request.disease or "")
```

#### 2.B The ‚ÄúPubMed query string‚Äù we can *actually* receipt from the system

The system surfaces `pubmed_query` via the evidence stack:
- `/api/evidence/literature` returns `pubmed_query`
- `EvidenceHit.pubmed_query` is copied into `evidence_manifest.pubmed_query` per drug (see runtime receipts below)

The literature endpoint‚Äôs ‚Äúagent fallback‚Äù sets a very simple default:

```163:176:oncology-coPilot/oncology-backend-minimal/api/routers/evidence/literature.py
try:
    from pubmed_llm_agent_enhanced import run_enhanced_pubmed_search
except Exception as e:
    return {
        "top_results": [],
        "pubmed_query": f"{gene} {hgvs_p} {disease}".strip(),
        "agent_fallback": True,
        "agent_error": str(e)[:100]
    }
```

#### 2.C Runtime receipt ‚Äî direct `/api/evidence/literature` call (fast=false isn‚Äôt relevant here)

Run: `POST /api/evidence/literature` with `{gene:"TP53", hgvs_p:"p.R175H", disease:"ovarian_cancer", moa_terms:["paclitaxel", ...]}`.

Receipt:
- `literature_receipt.agent_fallback == true` (runtime receipt: `artifacts/mission2_evidence_autopsy_2026-02-13.json` lines 52-57)
- `literature_receipt.agent_error == "cannot import name 'genai' from 'google' (unknown location)"` (same receipt, line 53)
- `literature_receipt.pubmed_query == "TP53 p.R175H ovarian_cancer"` (same receipt, line 55)
- `literature_receipt.top_results_count == 0` (same receipt, line 56)

#### 2.D Runtime receipt ‚Äî `POST /api/efficacy/predict` with `fast=false` and `include_evidence=true`

I executed an efficacy run with:
- `options.fast = false`
- `options.include_evidence = true`
- primary variant = `TP53 p.R175H` (allele-complete GRCh38)

Receipt (per-drug evidence fields in response):
- `efficacy_receipt.provenance.flags.evidence_enabled == true` (receipt: `artifacts/mission2_evidence_autopsy_2026-02-13.json` lines 3-8)
- For the first 5 drugs returned, each has:
  - `citations_count == 0` (receipt: lines 10-49; field name appears per-row)
  - `evidence_strength == 0.0` (receipt: lines 14, 22, 30, 38, 46)
  - `evidence_manifest.pubmed_query == "TP53 p.R175H ovarian_cancer"` (receipt: lines 13, 21, 29, 37, 45)

This proves evidence was *attempted* (manifest populated with query) but the literature engine returned no hits.

#### 2.E Verdict (as required)

**Verdict: `BROKEN`.**

Reason (receipt-backed): The PubMed LLM agent import fails in the literature router (`agent_error: cannot import name 'genai' from 'google'`), and the code returns early with empty results (`agent_fallback=True`) before the E-utilities fallback path can run. This is not an API-key issue and not a ‚Äúreal query returns empty‚Äù claim; it‚Äôs a dependency/import failure causing a hard empty response.

---

### Mission 6 (MFAP4 + ‚ÄúDiamond SAE‚Äù / feature `27607` wiring audit) ‚Äî ‚úÖ COMPLETE

**Goal:** Determine whether MFAP4 and ‚ÄúDiamond‚Äù SAE features (incl. index `27607`) are wired into the Ayesha Therapy-Fit bundle, and if not, identify the hook-point.

#### 6.A Where `27607` (‚ÄúDiamond SAE‚Äù) is defined

`DIAMOND_SAE_FEATURES` is defined in the Resistance Prophet constants:

```314:321:oncology-coPilot/oncology-backend-minimal/api/services/resistance_prophet/constants.py
DIAMOND_SAE_FEATURES = {
    "27607": {
        "effect_size": 0.635,
        "p_value": 0.0145,
        "significance": "HIGH",
        "mechanism": "DDR Compromise (NF1-linked)",
        "rationale": "Feature 27607 correlates with NF1 loss and platinum resistance (Large Effect)."
    },
```

#### 6.B Where MFAP4 is defined (transcriptomic Layer-1 marker)

MFAP4 is defined as an ovarian transcriptomic resistance marker:

```384:392:oncology-coPilot/oncology-backend-minimal/api/services/resistance_prophet/constants.py
OV_TRANSCRIPTOMIC_MARKERS = {
    "MFAP4": {
        "effect": "RESISTANCE",
        "threshold": 1.5,
        "auroc": 0.763,
        "mechanism": "Intrinsic Resistance (Mesenchymal Phenotype)",
        "rationale": "High MFAP4 indicates baseline mesenchymal phenotype (intrinsic resistance). Validated AUROC 0.763."
    }
}
```

#### 6.C Where ‚ÄúDiamond‚Äù and MFAP4 are computed (ovarian signals)

Diamond SAE feature detection looks for a sparse feature map (dict) and checks for activation of indices like `27607`:

```533:626:oncology-coPilot/oncology-backend-minimal/api/services/resistance_prophet/signals/ovarian.py
async def detect_diamond_features(current_sae: Dict) -> ResistanceSignalData:
    ...
    from api.services.resistance_prophet.constants import DIAMOND_SAE_FEATURES
    for feat_idx, meta in DIAMOND_SAE_FEATURES.items():
        val = features_map.get(feat_idx) or features_map.get(int(feat_idx)) or 0.0
        if val and val > 0.1:
            ...
```

MFAP4 detection expects transcriptomic values under `current_sae["expression"]` (or at root as a fallback):

```630:699:oncology-coPilot/oncology-backend-minimal/api/services/resistance_prophet/signals/ovarian.py
async def detect_transcriptomic_risk(current_sae: Dict) -> ResistanceSignalData:
    ...
    expression_data = current_sae.get("expression", {})
    if not expression_data:
        if "MFAP4" in current_sae:
            expression_data = current_sae
    ...
    from api.services.resistance_prophet.constants import OV_TRANSCRIPTOMIC_MARKERS
    for marker, meta in OV_TRANSCRIPTOMIC_MARKERS.items():
        val = expression_data.get(marker)
        if val is not None and float(val) >= meta["threshold"]:
            ...
```

#### 6.D Are these wired into Resistance Prophet? ‚úÖ Yes

For ovarian cases, Resistance Prophet‚Äôs production heuristic engine runs both detectors:

```44:53:oncology-coPilot/oncology-backend-minimal/api/services/resistance_prophet_service.py
results = await asyncio.gather(
    ...
    ovarian.detect_diamond_features(current_sae_features or {}),
    ovarian.detect_transcriptomic_risk(current_sae_features or {}),
    ...
)
```

#### 6.E Are these wired into the Ayesha Therapy-Fit `bundle` output? ‚ùå Not by default

`/api/ayesha/therapy-fit/bundle` calls `run_therapy_fit_analysis(...)`, which:
- Runs WIWFM via `EfficacyOrchestrator.predict(...)`
- Optionally runs SL via `_run_sl_bundle(...)`
- **Does not** call the Resistance Prophet engine in the normal path

Receipt (bundle assembly):

```59:82:oncology-coPilot/oncology-backend-minimal/api/routers/ayesha_therapy_fit.py
efficacy = await run_therapy_fit_analysis(profile, lk.upper(), is_preview=(lk != "l1"))
...
out[lk.upper()] = {
  ...
  "efficacy": {...},
  "synthetic_lethality": sl_payload,
}
```

There *is* a debug-only hook inside `run_therapy_fit_analysis` that can call Resistance Prophet, but it:
- Is gated by `AYESHA_THERAPY_FIT_DEBUG_ESCAPE`
- Only runs for PARP drugs
- Builds `current_features` from `tumor_context` (not from expression or true-SAE features)

```216:240:oncology-coPilot/oncology-backend-minimal/api/services/ayesha_fit/service.py
debug_escape = ... os.getenv(\"AYESHA_THERAPY_FIT_DEBUG_ESCAPE\", \"0\") ...
...
current_features.update(tumor_context)
pred = await resistance_service.predict_resistance(... current_sae_features=current_features, ...)
```

#### 6.F Hook-point (what to wire next)

To actually surface MFAP4/Diamond inside Therapy-Fit, the clean hook-point is:
- Add a **non-debug** optional block in `run_therapy_fit_analysis` (or in the router) that calls Resistance Prophet with:
  - `current_sae_features.expression` populated from an ingestion/read path (see `/api/expression/ingest`)
  - `current_sae_features.features` populated from a true-SAE extraction path (or explicitly absent if RUO/blocked)
- Return the Prophet signal outputs (or a compact ‚Äúrisk gauge‚Äù object) in the Therapy-Fit bundle under a dedicated key, e.g. `levels.L1.resistance_prophet`.

