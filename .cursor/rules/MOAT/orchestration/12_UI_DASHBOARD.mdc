# ðŸ–¥ï¸ MODULE 12: UI DASHBOARD

**Purpose:** Frontend components for the orchestration system  
**Priority:** ðŸŸ¢ MEDIUM | **Dependencies:** 11 (API) | **Consumers:** End users

---

## ðŸŽ¯ MISSION

Build a dashboard that can:
1. Display patient overview
2. Show molecular profile
3. Display drug rankings with S/P/E breakdown
4. Show trial matches with mechanism fit
5. Display alerts and notifications
6. Integrate with CoPilot for Q&A

---

## ðŸŽ¨ DASHBOARD LAYOUT

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ðŸ§¬ CrisPRO.ai                              [Ayesha Kiani] [âš™ï¸] [ðŸ‘¤]  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  ðŸ”” ALERTS (2)                                            [â–¼]   â”‚   â”‚
â”‚  â”‚  â€¢ âš ï¸ CA-125 baseline still missing - ORDER IMMEDIATELY         â”‚   â”‚
â”‚  â”‚  â€¢ â„¹ï¸ New trial match: NCT05678901 (PARP + ATR) - 94% fit       â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  ðŸ“Š MOLECULAR        â”‚  â”‚  ðŸ’Š TREATMENT RECOMMENDATIONS         â”‚   â”‚
â”‚  â”‚  PROFILE             â”‚  â”‚                                      â”‚   â”‚
â”‚  â”‚                      â”‚  â”‚  1. Olaparib (PARP)     [0.94] â­    â”‚   â”‚
â”‚  â”‚  MBD4: c.1239delA â­ â”‚  â”‚     Tier I | High confidence        â”‚   â”‚
â”‚  â”‚  TP53: Mutant (IHC)  â”‚  â”‚                                      â”‚   â”‚
â”‚  â”‚  TMB: â³ Pending     â”‚  â”‚  2. Carboplatin         [0.88]       â”‚   â”‚
â”‚  â”‚  HRD: Inferred       â”‚  â”‚     Tier I | Very high confidence   â”‚   â”‚
â”‚  â”‚  IO: Not eligible    â”‚  â”‚                                      â”‚   â”‚
â”‚  â”‚                      â”‚  â”‚  3. Niraparib (PARP)   [0.91]       â”‚   â”‚
â”‚  â”‚  [View Full Profile] â”‚  â”‚     Tier I | High confidence        â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  âš”ï¸ RESISTANCE       â”‚  â”‚  ðŸ”¬ CLINICAL TRIALS                  â”‚   â”‚
â”‚  â”‚                      â”‚  â”‚                                      â”‚   â”‚
â”‚  â”‚  Platinum: HIGH      â”‚  â”‚  NCT05678901                        â”‚   â”‚
â”‚  â”‚  sensitivity         â”‚  â”‚  PARP + ATR in DDR-Deficient OC     â”‚   â”‚
â”‚  â”‚                      â”‚  â”‚  Mechanism Fit: 94% â­               â”‚   â”‚
â”‚  â”‚  Risk: 14.5%         â”‚  â”‚  Status: RECRUITING                 â”‚   â”‚
â”‚  â”‚  (baseline)          â”‚  â”‚  [View Details] [Check Eligibility] â”‚   â”‚
â”‚  â”‚                      â”‚  â”‚                                      â”‚   â”‚
â”‚  â”‚  MAPK: Wild-type âœ…  â”‚  â”‚  NCT04729387                        â”‚   â”‚
â”‚  â”‚  NF1: Not detected   â”‚  â”‚  Olaparib + Cediranib               â”‚   â”‚
â”‚  â”‚                      â”‚  â”‚  Mechanism Fit: 88%                 â”‚   â”‚
â”‚  â”‚  [View Full Analysis]â”‚  â”‚  [View All 5 Matches]               â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  ðŸ¥— NUTRITION                              ðŸ“… MONITORING         â”‚  â”‚
â”‚  â”‚                                                                  â”‚  â”‚
â”‚  â”‚  During Carboplatin:                       Next Steps:           â”‚  â”‚
â”‚  â”‚  â€¢ NAC 600mg post-infusion                â˜ CA-125 baseline     â”‚  â”‚
â”‚  â”‚  â€¢ Vitamin D 2000 IU daily                â˜ NGS results         â”‚  â”‚
â”‚  â”‚  â€¢ Avoid grapefruit                       â˜ HRD score           â”‚  â”‚
â”‚  â”‚                                            â˜ CT post-C3          â”‚  â”‚
â”‚  â”‚  [View Full Plan]                         [View Schedule]        â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  ðŸ’¬ CoPilot                                              [Chat]  â”‚  â”‚
â”‚  â”‚  "Ask me anything about this patient's case..."                  â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚  â”‚ Quick: [Why PARP?] [Resistance risk?] [Trial eligibility?] â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ðŸ—ï¸ COMPONENT STRUCTURE

```
src/pages/Dashboard/
â”œâ”€â”€ Dashboard.jsx               # Main dashboard page
â”œâ”€â”€ DashboardLayout.jsx         # Layout container
â””â”€â”€ components/
    â”œâ”€â”€ AlertBanner.jsx         # Alert notifications
    â”œâ”€â”€ MolecularProfile.jsx    # Mutation and biomarker display
    â”œâ”€â”€ DrugRankingCard.jsx     # Drug recommendations
    â”œâ”€â”€ ResistanceCard.jsx      # Resistance prediction
    â”œâ”€â”€ TrialMatchesCard.jsx    # Clinical trials
    â”œâ”€â”€ NutritionCard.jsx       # Nutrition plan
    â”œâ”€â”€ MonitoringCard.jsx      # Next steps and monitoring
    â”œâ”€â”€ CoPilotPanel.jsx        # Integrated CoPilot
    â””â”€â”€ charts/
        â”œâ”€â”€ EfficacyChart.jsx   # S/P/E breakdown
        â”œâ”€â”€ MechanismVector.jsx # 7D vector visualization
        â””â”€â”€ TimelineChart.jsx   # Monitoring timeline
```

---

## ðŸ”§ KEY COMPONENTS

### DrugRankingCard

```jsx
// src/pages/Dashboard/components/DrugRankingCard.jsx

import React from 'react';
import { Card, CardContent, Typography, Chip, LinearProgress, Tooltip } from '@mui/material';
import { Star, CheckCircle, Info } from '@mui/icons-material';

const TierChip = ({ tier }) => {
  const colors = {
    'I': 'success',
    'II': 'info',
    'III': 'warning',
    'Research': 'default'
  };
  return <Chip label={`Tier ${tier}`} color={colors[tier]} size="small" />;
};

export default function DrugRankingCard({ drugs }) {
  return (
    <Card>
      <CardContent>
        <Typography variant="h6" gutterBottom>
          ðŸ’Š Treatment Recommendations
        </Typography>
        
        {drugs.map((drug, index) => (
          <div key={drug.drug_name} className="drug-row">
            <div className="drug-header">
              <Typography variant="subtitle1">
                {index + 1}. {drug.drug_name}
                {index === 0 && <Star color="primary" fontSize="small" />}
              </Typography>
              <Typography variant="h6" color="primary">
                [{drug.efficacy_score.toFixed(2)}]
              </Typography>
            </div>
            
            <LinearProgress 
              variant="determinate" 
              value={drug.efficacy_score * 100} 
              color={drug.efficacy_score >= 0.9 ? "success" : "primary"}
            />
            
            <div className="drug-meta">
              <TierChip tier={drug.tier} />
              <Chip 
                label={drug.confidence} 
                size="small" 
                variant="outlined"
              />
              {drug.on_label && (
                <Chip 
                  icon={<CheckCircle />} 
                  label="On-label" 
                  size="small" 
                  color="success" 
                  variant="outlined"
                />
              )}
            </div>
            
            <Tooltip title={drug.mechanism}>
              <Typography variant="caption" color="textSecondary">
                {drug.rationale[0]}
              </Typography>
            </Tooltip>
          </div>
        ))}
      </CardContent>
    </Card>
  );
}
```

### MolecularProfile

```jsx
// src/pages/Dashboard/components/MolecularProfile.jsx

export default function MolecularProfile({ profile, biomarkers }) {
  return (
    <Card>
      <CardContent>
        <Typography variant="h6">ðŸ“Š Molecular Profile</Typography>
        
        {/* Key Mutations */}
        <div className="mutations">
          {profile.mutations.map(mut => (
            <Chip
              key={mut.gene}
              label={`${mut.gene}: ${mut.variant}`}
              color={mut.gene === 'MBD4' ? 'error' : 'default'}
              icon={mut.gene === 'MBD4' ? <Star /> : null}
            />
          ))}
        </div>
        
        {/* Biomarkers */}
        <div className="biomarkers">
          <BiomarkerRow 
            label="TMB" 
            value={biomarkers?.tmb?.value || 'Pending'}
            status={biomarkers?.tmb?.classification}
          />
          <BiomarkerRow 
            label="MSI" 
            value={biomarkers?.msi?.status || 'Pending'}
          />
          <BiomarkerRow 
            label="HRD" 
            value={biomarkers?.hrd?.status || 'Pending'}
          />
          <BiomarkerRow 
            label="IO" 
            value={biomarkers?.io_eligible ? 'Eligible' : 'Not eligible'}
            status={biomarkers?.io_eligible ? 'positive' : 'negative'}
          />
        </div>
      </CardContent>
    </Card>
  );
}
```

---

## ðŸ“‹ IMPLEMENTATION CHECKLIST

- [ ] Dashboard layout
- [ ] AlertBanner component
- [ ] MolecularProfile component
- [ ] DrugRankingCard with S/P/E breakdown
- [ ] ResistanceCard with pathway visualization
- [ ] TrialMatchesCard with mechanism fit
- [ ] NutritionCard
- [ ] MonitoringCard with checklist
- [ ] CoPilot integration
- [ ] Mobile responsive
- [ ] Unit tests

---

## ðŸ”— API INTEGRATION

```javascript
// src/hooks/usePatientDashboard.js

export function usePatientDashboard(patientId) {
  const [state, setState] = useState(null);
  const [loading, setLoading] = useState(true);
  
  useEffect(() => {
    async function fetchData() {
      try {
        const response = await fetch(`/api/patients/${patientId}`);
        const data = await response.json();
        setState(data.patient_state);
      } catch (error) {
        console.error('Failed to load patient data:', error);
      } finally {
        setLoading(false);
      }
    }
    
    fetchData();
    
    // Poll for updates every 30 seconds
    const interval = setInterval(fetchData, 30000);
    return () => clearInterval(interval);
  }, [patientId]);
  
  return { state, loading };
}
```

---

**Module Status:** â¬œ TODO  
**Estimated Time:** 3-4 days
