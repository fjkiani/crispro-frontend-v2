# MM VALIDATION: GROUND TRUTH & ACCURACY FRAMEWORK

**Date:** December 3, 2025  
**Status:** Pre-flight Complete | Ready for Phase 2

---

## üéØ THE KEY QUESTION: "How do we know we're accurate?"

### What We're Measuring

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ GROUND TRUTH vs PREDICTION                                         ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                                                                    ‚îÇ
‚îÇ GROUND TRUTH (Y):                                                  ‚îÇ
‚îÇ   ‚Ä¢ Primary: MORTALITY (vital_status == "Dead")                    ‚îÇ
‚îÇ   ‚Ä¢ Available: 46 deaths in 219 patients with mutations            ‚îÇ
‚îÇ   ‚Ä¢ Limitation: This is OVERALL survival, not drug-specific        ‚îÇ
‚îÇ                                                                    ‚îÇ
‚îÇ PREDICTION (X):                                                    ‚îÇ
‚îÇ   ‚Ä¢ Option 1: Evo2 delta score (sequence-level)                    ‚îÇ
‚îÇ   ‚Ä¢ Option 2: SAE features (functional interpretation)             ‚îÇ
‚îÇ   ‚Ä¢ Option 3: Pathway burden (aggregated mutation impact)          ‚îÇ
‚îÇ                                                                    ‚îÇ
‚îÇ VALIDATION METRIC:                                                 ‚îÇ
‚îÇ   ‚Ä¢ Correlation: Does X predict Y?                                 ‚îÇ
‚îÇ   ‚Ä¢ RR/OR: Does mutation increase death risk?                      ‚îÇ
‚îÇ   ‚Ä¢ AUC: How well does our score discriminate?                     ‚îÇ
‚îÇ                                                                    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## üìä WHAT WE HAVE (Pre-flight Results)

| Component | Status | Details |
|-----------|--------|---------|
| **Backend** | ‚úÖ Running | Port 8000 |
| **Evo2 Service** | ‚ö†Ô∏è Needs start | Modal or local |
| **Ground Truth** | ‚úÖ Ready | 237 variants, 46 deaths |
| **High-lethality variants** | ‚úÖ Identified | DIS3 p.C562Y (100%), BRAF p.V640E (50%) |

### Top Lethal Variants (Our Ground Truth Candidates)

| Variant | Gene | Mortality | N |
|---------|------|-----------|---|
| p.C562Y | DIS3 | **100%** | 2 |
| p.D488N | DIS3 | **75%** | 4 |
| p.V640E | BRAF | **50%** | 10 |
| p.R213* | TP53 | **50%** | 2 |
| p.Q61K | NRAS | **50%** | 8 |

---

## üî¨ VALIDATION APPROACH

### Phase 2: SAE Feature Extraction

```python
# For each lethal variant, extract SAE features
POST /api/evo/score_variant_multi
{
    "chrom": "13",
    "pos": ...,  # DIS3 p.D488N position
    "ref": "A",
    "alt": "T",
    "model_id": "evo2_1b"
}
‚Üí Returns: min_delta, sae_features

# Compare SAE features between:
#   - Lethal variants (DIS3 p.D488N, 75% mortality)
#   - Non-lethal variants (KRAS p.G12A, 0% mortality)
```

### Phase 3: Accuracy Measurement

```
VALIDATION TEST:
1. Score all 237 variants with Evo2
2. Rank by delta score
3. Correlate with mortality rate

METRICS:
‚Ä¢ Pearson r: Correlation between delta and mortality
‚Ä¢ Spearman œÅ: Rank correlation (more robust)
‚Ä¢ AUC: Does high delta predict death?
‚Ä¢ RR: Does delta > threshold increase death risk?

SUCCESS CRITERIA:
‚Ä¢ r > 0.3 = Strong signal
‚Ä¢ AUC > 0.65 = Clinically useful
‚Ä¢ RR > 1.5 = Meaningful effect
```

---

## ‚ö†Ô∏è HONEST LIMITATIONS

### What Our Ground Truth CANNOT Tell Us

1. **Drug-specific resistance** - We don't have "relapsed ON bortezomib"
2. **Progression-free survival** - GDC doesn't have days_to_progression
3. **Response categories** - No CR/VGPR/PR/SD/PD data
4. **Treatment line** - 1st line vs relapsed/refractory

### What Our Ground Truth CAN Tell Us

1. **Overall prognosis** - Does mutation ‚Üí death?
2. **Variant severity** - Which variants are most lethal?
3. **Gene-level signal** - DIS3 mutation ‚Üí 2x death risk
4. **Evo2 correlation** - Does delta score predict lethality?

---

## üöÄ NEXT STEPS

### Option A: Run with Proxy (No Evo2 needed)
```bash
python scripts/validation/mm_sae_validation_framework.py
# Uses variant classification as delta proxy
# Already shows r=0.133 positive correlation
```

### Option B: Start Evo2 & Run Real Validation
```bash
# Start Evo2 service
cd oncology-coPilot/oncology-backend-minimal
python -m uvicorn api.index:app --port 8000

# Or deploy to Modal
modal deploy deploy/deploy_unified_oracle.py

# Then run real scoring
python scripts/validation/mm_evo2_real_validation.py
```

### Option C: Get Better Ground Truth
Access MMRF Researcher Gateway for:
- Response categories (CR, VGPR, PR, SD, PD)
- Drug-specific outcomes
- Progression-free survival

---

## üìà CURRENT VALIDATION STATUS

| Test | Ground Truth | Prediction | Result | Status |
|------|--------------|------------|--------|--------|
| DIS3 ‚Üí Death | Mortality | Mutation present | **RR=2.08, p=0.0145** | ‚úÖ VALIDATED |
| TP53 ‚Üí Death | Mortality | Mutation present | RR=1.90, p=0.11 | ‚ö†Ô∏è Trend |
| Evo2 ‚Üí Mortality | Mortality | Delta score (proxy) | r=0.133 | ‚ö†Ô∏è Weak signal |

---

## üéØ BOTTOM LINE

**Are we ready for Phase 2/3?**

| Check | Status |
|-------|--------|
| Data ready | ‚úÖ 237 variants, 46 deaths |
| Ground truth defined | ‚úÖ Mortality (with limitations) |
| Validation framework | ‚úÖ Created |
| Evo2 service | ‚ö†Ô∏è Needs start (or use proxy) |
| Accuracy metric | ‚úÖ Correlation + RR |

**Recommendation:** Run proxy validation now, Evo2 validation when service is available.
